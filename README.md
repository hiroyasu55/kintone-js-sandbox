kintone-si-uploader
===================

kintone JavaScript SI sandbox


インストール方法
----------------

### 依存ライブラリのインストール

依存ライブラリは npm を用いて管理されている.

``` {.bash}
  npm install
```

以上で依存ライブラリがインストールされる。


### JavaScriptやSASSのビルド

Gulp タスクが幾つか用意されている.

#### ビルド

ビルドするためには

``` {.bash}
  npm run build
```

を実行する. これを実行する前に `npm install` を行って依存ライブラリが
正しくインストールしておく必要がある.

ビルド元ファイルは `src` 以下にある. ビルド後のファイルは基本的
に `web` 以下に出力される.

#### Watch

開発時に, ファイルの変更を検知して, ビルド + ライブリロードなどといっ
たことを自動的に起こってくれるタスクが用意されている.

監視プロセスを立ち上げるためには以下のコマンドを実行する.

``` {.bash}
  npm run watch
```

このコマンドを実行すると, ブラウザが開きプロジェクトのトップページが表
示される. 

ファイルの変更の監視対象は現在のところは `web` 以下である.

ブランチ運用
------------

ブランチの運用にはgit-flowを用いる. 詳しくはweb上の資料を参照のこと.

ここでは基本的な概念のみ述べ, git-flow のコマンドを解説することはしな
い. なお, SourceTree には git-flow に関する機能が取り込まれており, GUI
で各操作が行えるのでブランチの作成・削除を行う際はこれを用いることをお
すすめする.

### 製品ブランチ

製品ブランチとはmasterブランチである (少なくとも本プロジェクトにおいて
は).

製品ブランチへの直接のコミットは禁止されており, 製品ブランチは常にリリー
ス可能な状態であることが望ましい.

### 開発ブランチ

開発時のコミットは開発ブランチに貯めていく. 本プロジェクトにおける開発
ブランチは `develop` ブランチになる.

開発ブランチへの直接のコミットは禁止されてはいないが, 基本的には後述す
るフィーチャーブランチを切って, そこでの開発が終わったら開発ブランチへ
マージすることが望ましい.

開発ブランチも基本的にはリリース可能に近い状態を出来る限り保つことが望
ましい(破壊的な更新はやはりフィーチャーブランチで行うことが望ましい).

### フィーチャーブランチ

フィーチャーブランチは開発ブランチから派生するブランチであり, 各機能の
開発ごとにフィーチャーブランチを切って作業するのが基本である.

フィーチャーブランチでの開発が終わったら開発ブランチへマージし, 自身は
削除される.

### リリースブランチ

リリースブランチはリリース時に作成するブランチである. 例えば,
`release/1.1.2` 等といった名前になる. リリースブランチは開発ブランチか
ら派生し, 最終的に開発ブランチと製品ブランチの両方にマージされる.

### hotfixブランチ

hotfixブランチは通常のリリースサイクルから逸脱して, 緊急の修正をリリー
スする際に用いられる. そのため, リリースブランチとは異なり, 開発ブラン
チではなく製品ブランチから派生したブランチを作成することになる. hotfix
ブランチはそのままリリースされることになるので, ブランチ名はバージョン
番号をつける. 従って, 時期リリースバージョンが 1.1.3 であるとすると,
ブランチ名は `hotfix/1.1.3` となる.

hotfixブランチは最終的に製品ブランチと開発ブランチの両方へマージされる.
